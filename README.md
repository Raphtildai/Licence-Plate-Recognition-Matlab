# ğŸ“˜ License Plate Recognition in MATLAB

*A Homework Assignment for Image & Signal Processing (Category 3 Task)*

## ğŸ¯ Overview

This project implements a **License Plate Recognition (LPR)** system in **MATLAB**, created as part of the **ELTE MSc Image & Signal Processing â€“ Homework A3** assignment.

The goal is to **detect**, **segment**, and **recognize** characters from license plates using classical image-processing techniques such as:

* contrast enhancement (CLAHE)
* edge detection (Sobel)
* morphological filtering
* connected component analysis
* Otsu thresholding
* character segmentation
* template-based character recognition (correlation)

This solution was developed under the constraints of **Category 3**, meaning **advanced MATLAB functions may be used**, but the approach must combine **core image processing steps creatively**.

---

## ğŸ“ Repository Structure

```
ğŸ“¦ License-Plate-Recognition-MATLAB
 â”£ ğŸ“‚ data/                # Test images provided for evaluation
 â”£ ğŸ“‚ templates/           # Character template data (imgfildata.mat)
 â”£ ğŸ“‚ results/             # Generated text outputs and figures
 â”£ ğŸ“œ license_plate_recognition.m
 â”£ ğŸ“œ README.md
 â”— ğŸ“œ number_Plate_Optimized.txt
```

---

## ğŸ§ª Example Input Images (from /data)

Here are some example license plate images included in the repository:

| Example 1                 | Example 2                 | Example 3                 |
| ------------------------- | ------------------------- | ------------------------- |
| ![1st Car](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/data/car_image.JPG) | ![2nd Car](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/data/P9170019.JPG) | ![3rd Car](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/data/P9170033.JPG) |

These images contain different lighting conditions, contrast levels, and backgrounds to test robustness.

---

## ğŸ§© Method Pipeline

The processing pipeline follows these steps:

### **1. Load + Preprocess Templates**

* Load `imgfildata.mat`
* Convert to grayscale, binarize, and resize to a uniform **42Ã—24** template size

### **2. Load Image & Convert to Grayscale**

* Read photo using `uigetfile`
* Convert using `im2gray`

### **3. Local Contrast Enhancement**

* Apply CLAHE (`adapthisteq`)
* Improves visibility of plate edges

### **4. Sobel Edge Detection**

* Generate an edge map
* Enhances horizontal and vertical plate boundaries

### **5. Morphological Closing**

* Connect fragmented edges using `strel` + `imclose`

### **6. License Plate Region Detection**

* Identify connected components

* Use constraints:

  * area
  * aspect ratio
  * edge-density score

* Select the best candidate bounding box

### **7. Extract Plate with Generous Padding**

Ensures the crop includes the full plate area without cutting letters.

### **8. Binarization and Noise Cleaning**

* Otsu thresholding
* Border removal (`imclearborder`)
* Dilation/erosion to separate characters
* Small noise removal (`bwareaopen`)

### **9. Character Segmentation**

* Connected component filtering based on:

  * area
  * height ratio
  * aspect ratio
  * Croatian emblem filtering
* Sort bounding boxes left-to-right

### **10. Character Recognition**

* Resize each character â†’ match template size
* Use normalized correlation (`corr2`)
* Best match above confidence threshold â‡’ accepted
* Otherwise â‡’ `?`

### **11. Save Results & Visualize**

* Output recognized text
* Save to `number_Plate_Optimized.txt`
* Display:

  * original image
  * extracted plate
  * cleaned binary image with character boxes

---

## â–¶ï¸ Running the Program

Open MATLAB and run:

```matlab
recognized_chars = license_plate_recognition();
```

You will be prompted to select a test image.

### **Dependencies**

âœ” MATLAB R2021+
âœ” Image Processing Toolbox

### **Template File**

Ensure that `imgfildata.mat` is in the templates directory.

---

## ğŸ“Œ Example Output

```
=== 11. FINAL RESULT ===
Loaded character database with 62 templates

=== 10. CHARACTER RECOGNITION ===
Char 1: S (confidence: 0.396) - MATCH
Char 2: K (confidence: 0.406) - MATCH
Char 3: 3 (confidence: 0.484) - MATCH
Char 4: 4 (confidence: 0.380) - MATCH
Char 5: 4 (confidence: 0.487) - MATCH
Char 6: C (confidence: 0.444) - MATCH
Char 7: K (confidence: 0.406) - MATCH

=== 11. FINAL RESULT ===
Recognized License Plate: SK344CK
Total execution time: 6.928 seconds
Results saved to number_Plate_Optimized.txt

ans =

    'SK344CK'
```

### Example Visualization

*(Auto-generated by the script)*

| Original                      | Plate Crop                  | Final Binary + Boxes          |
| ----------------------------- | --------------------------- | ----------------------------- |
| ![orig](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/data/car_image.JPG) | ![plate](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/results/SK314CK-crop.png) | ![seg](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/results/SK314CK-Binary+Boxes.png) |

## Entire Process Generation
![Whole Process](https://github.com/Raphtildai/Licence-Plate-Recognition-Matlab/blob/master/results/SK314CK-whole.png)
---

## ğŸ“„ Assignment Details (ELTE â€“ Homework A3)

This project corresponds to the **Category 3 â€“ License Plate Recognition** task:

> Solve a complex problem creatively using classical signal & image processing
> (FFT, filtering, edge & keypoint detection, segmentation, thresholding, pattern matchingâ€¦)
---

## ğŸ™ Acknowledgments

* ELTE MSc Computer Science for Autonomous Systems - "Image and Signal Processing" course
* Task description: [https://bognargergo.web.elte.hu/mscsignal/homeworks/](https://bognargergo.web.elte.hu/mscsignal/homeworks/)
* Dataset: [Test Images](http://www.zemris.fer.hr/projects/LicensePlates/english/results.shtml)

---

